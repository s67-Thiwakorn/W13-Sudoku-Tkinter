import tkinter as tk

def main():
    root = tk.Tk()
    root.title("Sudoku Game")
    root.geometry("450x450")
    entries = create_sudoku_grid(root)

    check_button = tk.Button(root, text="ตรวจสอบ", command=lambda: check_sudoku(entries))
    check_button.grid(row=9, column=0, columnspan=9)
    root.mainloop()

def create_sudoku_grid(root):
    entries = []
    for row in range(9):
        row_entries = []
        for col in range(9):
            e = tk.Entry(root, width=2, justify='center', font=('Arial', 18))
            e.grid(row=row, column=col, padx=5, pady=5)
            row_entries.append(e)
        entries.append(row_entries)
    return entries

def check_valid_sudoku(board):
    for row in board:
        if not check_unique(row):
            return False
    for col in range(9):
        if not check_unique([board[row][col] for row in range(9)]):
            return False
    for box_row in range(0, 9, 3):
        for box_col in range(0, 9, 3):
            box = []
            for i in range(3):
                for j in range(3):
                    box.append(board[box_row + i][box_col + j])
            if not check_unique(box):
                return False
    return True

def check_unique(nums):
    nums = [num for num in nums if num != 0]
    return len(nums) == len(set(nums))

def check_sudoku(entries):
    board = []
    for row in entries:
        current_row = []
        for entry in row:
            value = entry.get()
            if value.isdigit():
                current_row.append(int(value))
            else:
                current_row.append(0)
        board.append(current_row)

    if check_valid_sudoku(board):
        print("Sudoku is valid!")
    else:
        print("Sudoku is invalid!")

if __name__ == "__main__":
    main()
